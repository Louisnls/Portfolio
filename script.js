let arr={
  
  "certif": [
    {
    "thumb": "./asset/MOOC.jpg",
    "title": "MOOC CNIL",
    "date": "05/03/24",
    "desc": "Attestation de suivi pour les 5 modules MOOC proposé par la CNIL",
    "href": "./asset/MOOC_Louis_Vidal.pdf"
    },
    {
      "thumb": "./asset/MTCNA.png",
      "title": "MTCNA Likrotik",
      "date": "25/04/24",
      "desc": "Attestation de l'obtention du MTCNA",
      "href": "./asset/MOOC_Louis_Vidal.pdf"
      },
      
  ],
  
  "entreprise": [
    {
    "thumb": "./asset/stage.PNG",
    "title": "Mon expérience professionel",
    "date": "",
    "desc": "Présentation de mon stage au sein d'ITIC Paris",
    "href": "https://docs.google.com/presentation/d/1vfbVjTlZjEcW_vUrV6iUfdPSXKR0j3a1Zq-bMjmRhuU/edit?usp=sharing"
    },
      
  ],
  
  "dev": [
    {
      "thumb": "./asset/powershell.jpg",
      "title": "Groupe de Sécurité",
      "date": "25/04/24",
      "desc": "Création de groupes de sécurité sur PowerShell",
      "href": "./portfolio/creationgroupes.ps1"
      },
      {
        "thumb": "./asset/powershell.jpg",
        "title": "User et UO",
        "date": "25/04/24",
        "desc": "Création d'user et d'UO sur PowerShell",
        "href": "./portfolio/importexcel.ps1"
        },
  ],
    
   //E5
   "E5": [
    {
      "thumb": "./asset/systeme.PNG",
      "title": "Projet système",
      "date": "24/03/24",
      "desc": "Voici mon projet système pour l'épreuve E5 du BTS",
      "href": "./portfolio/E5systeme.pdf"
      },

      {
        "thumb": "./asset/reseau.PNG",
        "title": "Projet réseau",
        "date": "24/03/24",
        "desc": "Voici mon projet réseau pour l'épreuve E5 du BTS",
        "href": "./portfolio/E5reseau.pdf"
        },
   ],
    
   
  "reseau": [
    {
      "thumb": "./asset/ipsec.png",
      "title": "Tunneling + IpSec sur Mikrotik",
      "date": "04/12/2023",
      "desc": "Dans ce labo, nous allons réaliser un tunnel Eoip entre hôte distant, avec DHCP qui passe par ce tunnel.",
      "href": "./portfolio/tunneling-chiffre-avec-ipsec-sur-mikrotik.html"
    },
    {
      "thumb": "./asset/rip.PNG",
      "title": "Rip Cisco",
      "date": "04/12/2023",
      "desc": "Mise en place du protocole de routage dinamique RIP sur cisco packet tracer",
      "href": "./portfolio/RIP_en_triangle_Louis.pkt"
    },
    {
      "thumb": "./asset/acl.PNG",
      "title": "ACL Cisco",
      "date": "04/12/2023",
      "desc": "Mise en place d'ACL sur cisco packet tracer",
      "href": "./portfolio/RIP_en_triangle_Louis.pkt"
    },
    {
      "thumb": "./asset/OSPF.png",
      "title": "OSPF Cisco",
      "date": "04/12/2023",
      "desc": "Mise en place du protocole OSPF sur cisco packet tracer",
      "href": "./portfolio/RIP_en_triangle_Louis.pkt"
    },
    {
      "thumb": "./asset/intervlan.PNG",
      "title": "Routage Inter Vlan",
      "date": "04/12/2023",
      "desc": "Mise en place de routage inter vlan sur cisco packet tracer",
      "href": "./portfolio/RIP_en_triangle_Louis.pkt"
    },
    {
      "thumb": "./asset/nathsrp.PNG",
      "title": "Nat et Hsrp Cisco",
      "date": "04/12/2023",
      "desc": "Mise en place de la haute disponibilité avec hsrp, et de nat sur cisco packet tracer",
      "href": "./portfolio/RIP_en_triangle_Louis.pkt"
    },
   ],

   "veille": [
    {
      "thumb": "./asset/reddit.jpg",
      "title": "r/augmentedreality",
      "date": "",
      "desc": "Créé en 2005, reddit est le plus grand forum du monde, regroupant des milliers de sujets en tout genre",
      "href": "https://www.reddit.com/r/augmentedreality/"
    },
    {
      "thumb": "./asset/rapro.png",
      "title": "RA'pro",
      "date": "",
      "desc": "Association francophone de promotion de la Réalité Augmentée",
      "href": "https://www.augmented-reality.fr"
    },
    {
      "thumb": "./asset/arinsider.jpg",
      "title": "ArInsider",
      "date": "",
      "desc": "AR Insider est une source d'actualités et d'informations mises à jour quotidiennement sur la réalité augmentée et la réalité virtuelle",
      "href": "https://arinsider.co/"
    },
    {
      "thumb": "./asset/venturebeat.png",
      "title": "VentureBeat",
      "date": "",
      "desc": "VentureBeat est un site internet américain traitant de l’actualité des nouvelles technologies",
      "href": "https://venturebeat.com/tag/virtual-reality-collaboration/"
    },

   ],

   "infra": [
    {
      "thumb": "./asset/PfSense.png",
     "title": "HSRP sur pfSense + certificat SSL",
     "date": "25/09/2023",
     "desc": "Dans ce labo, nous allons réaliser un cluster entre deux pfSense avec Carp ainsi que la mise en place d'un certificat SSL",
     "href": "./portfolio/protocole-hsrp-pfsense-et-certificat-ssl.html"
   },
   {
    "thumb": "./asset/snort.png",
   "title": "IDS / IPS avec Snort",
   "date": "25/05/2023",
   "desc": "Dans ce labo, nous allons mettre en place un service d'IDS/IPS avec Snort sur PfSense",
   "href": "./portfolio/mise-en-place-dun-service-idsips-avec-snort-sur-pfsense.html"
 },
 {
  "thumb": "./asset/vpn.jpg",
 "title": "VPN L2TP/PPTP Windows Serveur",
 "date": "25/09/2023",
 "desc": "Dans ce labo, nous allons mettre en place un service VPN sur windows serveur",
 "href": "./portfolio/installation-et-mise-en-place-du-service"
},
{
"thumb": "./asset/windows.jpg",
"title": "Mise en place des services AD, DHCP et DNS",
"date": "15/09/2023",
"desc": "Dans ce labo, nous allons mettre en place les services AD, DHCP et DNS sur Windows Serveur",
"href": "./portfolio/ad-dhcp-dns.html"
},
 {
  "thumb": "./asset/bind9.png",
 "title": "DNS avec BIND 9",
 "date": "15/10/2023",
 "desc": "Dans ce labo, nous allons mettre en place un service DNS avec BIND 9",
 "href": "./portfolio/mise-en-place-dun-service-dns-avec-bind9.html"
},
{
  "thumb": "./asset/GLPI.png",
 "title": "Glpi sur ubuntu 22.04",
 "date": "20/10/2023",
 "desc": "Dans ce labo, nous allons mettre en place un gestionnaire de Parc Informatique avec GLPI",
 "href": "./portfolio/installation-de-glpi-sur-ubuntu-2204.html"
},
   ]
}



let load_count = 4; 
let prev_tab = "reseau";
let current_tab;

function load(pointer) {
  let container = document.getElementById('projects_holder');
  
  current_tab = pointer;
  
  container.innerHTML = "";
  removeLoadButton();
  load_count = 4; 
  underlineLabel(pointer);
  
  loadPosts(arr[pointer], container);
}

function loadPosts(pointer, container) {
  let postsToLoad = pointer.slice(0, load_count); 
  
  postsToLoad.forEach(post => {
    container.insertAdjacentHTML('beforeend', stringifyProject(post));
  });

  if (pointer.length > load_count) {
    addLoadButton(pointer, load_count - 1);
  }
}

function loadMorePosts(pointer) {
  let container = document.getElementById('projects_holder');
  let remainingPosts = arr[pointer].slice(load_count); 
  
  remainingPosts.forEach(post => {
    container.insertAdjacentHTML('beforeend', stringifyProject(post));
  });

  load_count += remainingPosts.length; 
  addLoadButton(arr[pointer], load_count);
}

function stringifyProject(param) {
  return `<div class="project col-6"> 
            <div class="project_body" style="background:linear-gradient(rgba(0,0,0,.2), rgba(198, 198, 198,0.5)), url(${param.thumb}); background-repeat: no-repeat; background-size: 110% 260px;">
              <div class="project_info"> 
                <div class="title"> 
                  <h3><a href="${param.href}">${param.title}</a></h3> 
                </div> 
                <div class="date"> 
                  <span>${param.date}</span> 
                </div> 
                <div class="desc"> 
                  <span>${param.desc}</span> 
                </div> 
              </div> 
            </div> 
          </div>`;
}

function underlineLabel(pointer) {
  document.getElementById(prev_tab).setAttribute("style", "text-decoration: none");
  prev_tab = pointer;
  document.getElementById(pointer).setAttribute("style", "text-decoration: underline;");
}

function addLoadButton(file, index) {
  let container_id = document.getElementById("load_more");
  return (file.length <= load_count) ? allLoaded(container_id) : loadMore(container_id);
}

function removeLoadButton() {
  document.getElementById("load_more").innerHTML = "";
}

function allLoaded(container_id) {
  container_id.innerHTML = '<p>All loaded</p>';
}

function loadMore(container_id) {
  container_id.innerHTML = `<button class="btn" onclick="loadMorePosts('${current_tab}')">Load More</button>`;
}


function scrollToTop() {
  window.scrollTo(0, 0);
}

window.onload = scrollToTop;

function loadVeille() {
  let container = document.getElementById('veille_holder');
  container.innerHTML = "";
  loadPosts(arr['veille'], container);
}

loadVeille();
load("reseau");




document.querySelectorAll('.dark-mode-button').forEach(button => {
  button.addEventListener('click', () => {
      darkMode(button);
  });
});

function darkMode(button) {
  let span = button.querySelector('span');
  let icon = button.querySelector('.icon i');

  if (document.body.classList.contains('dark')) {
      document.body.classList.remove('dark');
      document.querySelector('.stars').style.display = 'none';
      span.textContent = 'Dark mode';
      icon.classList.remove('fa-sun');
      icon.classList.add('fa-moon');
      localStorage.setItem('theme', 'light');
  } else {
      document.body.classList.add('dark');
      document.querySelector('.stars').style.display = 'block';
      span.textContent = 'Light mode';
      icon.classList.remove('fa-moon');
      icon.classList.add('fa-sun');
      localStorage.setItem('theme', 'dark');
  }
}






var petalPlayers = [];

function animatePetals() {
  var petals = document.querySelectorAll('.petal');
  
  if (!petals[0].animate) {
    var petalsContainer = document.getElementById('petals-container');
    petalsContainer.prepend("Uh oh, it seems like your browser doesn't support Web Animations API yet. Have you tried this in Firefox or Chrome?");
    return false;
  }

  for (var i = 0, len = petals.length; i < len; ++i) {
    var petal = petals[i];
    petal.innerHTML = '<div class="rotate"><img src="https://qqz.works/wp-content/uploads/2021/08/petal.png" class="askew"></div>';
    var scale = Math.random() * .8 + .2;


    var player = petal.animate([
      { transform: 'translate3d(' + (i/len*100) + 'vw,0,0) scale(' + scale + ')', opacity: scale },
      { transform: 'translate3d(' + (i/len*100 + 10) + 'vw,150vh,0) scale(' + scale + ')', opacity: 1 }
    ], {
      duration: Math.random() * 90000 + 3000,
      iterations: Infinity,
      delay: -(Math.random() * 5000)
    });
    
    petalPlayers.push(player);
  }
}

animatePetals();







